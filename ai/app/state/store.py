"""
SK AXIS AI λ©΄μ ‘ μƒνƒ μ „μ—­ λ©”λ¨λ¦¬ μ €μ¥μ†

μ΄ νμΌμ€ λ©΄μ ‘ μ§„ν–‰ μƒνƒλ¥Ό λ©”λ¨λ¦¬μ— μ €μ¥ν•λ” μ „μ—­ μ €μ¥μ†μ…λ‹λ‹¤.
μ£Όμ” κΈ°λ¥:
- λ©΄μ ‘μλ³„ μƒνƒ μ •λ³΄ μ„μ‹ μ €μ¥
- νμ΄ν”„λΌμΈ λ‹¨κ³„λ³„ μ²λ¦¬ κ²°κ³Ό λ³΄κ΄€
- API κ°„ μƒνƒ κ³µμ  λ° μ΅°ν μ§€μ›

μ €μ¥μ† κµ¬μ΅°:
- ν‚¤: interviewee_id (μ •μ) - λ©΄μ ‘μ κ³ μ  μ‹λ³„μ
- κ°’: InterviewState (λ”•μ…”λ„λ¦¬) - ν•΄λ‹Ή λ©΄μ ‘μ μ „μ²΄ μƒνƒ

μ‚¬μ© ν¨ν„΄:
1. λ©΄μ ‘ μ‹μ‘ μ‹ μ΄κΈ° μƒνƒ μƒμ„± λ° μ €μ¥
2. κ° νμ΄ν”„λΌμΈ λ‹¨κ³„μ—μ„ μƒνƒ μ—…λ°μ΄νΈ
3. APIμ—μ„ μƒνƒ μ΅°ν λ° κ²°κ³Ό λ°ν™
4. λ©΄μ ‘ μ™„λ£ ν›„ μƒνƒ μ •λ¦¬ (μ„ νƒμ )

μ£Όμμ‚¬ν•­:
- λ©”λ¨λ¦¬ κΈ°λ° μ €μ¥μ†λ΅ μ„λ²„ μ¬μ‹μ‘ μ‹ λ°μ΄ν„° μ†μ‹¤
- μ΄μ ν™κ²½μ—μ„λ” Redis λ“± μκµ¬ μ €μ¥μ† κ³ λ ¤ ν•„μ”
- λ™μ‹μ„± μ μ–΄λ” Python GILμ— μμ΅΄
"""

from typing import Dict
from app.schemas.state import InterviewState

# β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€ π“¦ μ „μ—­ λ©”λ¨λ¦¬ μ €μ¥μ† β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
# μΈν„°λ·° μƒνƒλ¥Ό λ©”λ¨λ¦¬μ— μ €μ¥ν•λ” μ „μ—­ μ¤ν† μ–΄
# ν‚¤: interviewee_id (μ •μ), κ°’: ν•΄λ‹Ή μΈν„°λ·°μ μƒνƒ κ°μ²΄
INTERVIEW_STATE_STORE: Dict[int, InterviewState] = {}

# β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€ π”§ μ‚¬μ© μμ‹ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
# μƒνƒ μ €μ¥: INTERVIEW_STATE_STORE[101] = initial_state
# μƒνƒ μ΅°ν: state = INTERVIEW_STATE_STORE.get(101)
# μƒνƒ μ—…λ°μ΄νΈ: INTERVIEW_STATE_STORE[101]["stt"]["done"] = True
# μƒνƒ μ‚­μ : del INTERVIEW_STATE_STORE[101]  # μ„ νƒμ 

